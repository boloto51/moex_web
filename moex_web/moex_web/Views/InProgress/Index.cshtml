@using JsonSerializer = System.Text.Json.JsonSerializer
@model List<InProgressModel>

@{
    @*<link rel="stylesheet" href="~/css/Monitoring.css" />*@
    ViewData["Title"] = "InProgress";
}

@*<partial name="_BuyTooltip" />*@
<div class="monitoring-index-page">
    <h1>In Progress</h1>
    <table class="table table-bordered monitoring-index-table">
        <thead>
            <tr>
                <th>
                    <b>SecId</b>
                </th>
                <th>
                    <b>Name</b>
                </th>
                <th>
                    <b>Current state</b>
                </th>
                <th>
                    <b>Days to sell</b>
                </th>
                <th>
                    <b>Bought date</b>
                </th>
                <th>
                    <b>Sell</b>
                </th>
            </tr>
        </thead>
        <tbody>
            @if (Model.Count != 0)
            {
                @for (int i = 0; i < (Model.Count < 100 ? Model.Count : 100); i++)
                {
                    <tr>
                        <td>
                            @Model[i].SecId
                        </td>
                        <td>
                            @Model[i].SecName
                        </td>
                        <td>
                            @Model[i].Percent
                        </td>
                        <td>
                            @Model[i].DaysToSell
                        </td>
                        <td>
                            @Model[i].BuyDate
                        </td>
                    </tr>
                }
            }
        </tbody>
    </table>
</div>

@*<script src="~/js/MonitoringIndexManager.js" asp-append-version="true"></script>
    <script type="text/javascript">
        $(function () {
            new MonitoringIndexManagerPack.MonitoringIndexManager(
                @Html.Raw(JsonSerializer.Serialize(Model)),
                '@Url.Action("Index", "InProgress")',
                @*'@(User?.Identity?.IsAuthenticated)',
                '@Url.Action("SetLearnedState")',
                '@Url.Action("Index", "Faq")?id='*@
@*            );
        });
    </script>*@

